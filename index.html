<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mars & Bianca — Wedding</title>
  <style>
    /* minimal demo styles */
    body { margin: 0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    header { height: 60vh; background: linear-gradient(135deg, #f7e7f2 0%, #fff 100%); display:flex; align-items:center; justify-content:center; }
    .hero { text-align:center; }
    .rsvp-btn { display:inline-block; cursor:pointer; border:0; background:transparent; }
    .content { padding: 2rem; }
  </style>
</head>
<body>

<header>
  <div class="hero">
    <h1>Mars & Bianca</h1>
    <p>We're getting married — join us</p>

    <!-- This image acts as your picture button.
         Set the alt/title/aria-label to openRSVP so your overlay script finds it. -->
    <img
      src="assets/rsvp-button.png"
      alt="openRSVP"
      aria-label="openRSVP"
      title="openRSVP"
      class="rsvp-btn"
      width="240"
      height="80"
      style="display:block; margin: 1rem auto;"
    />
  </div>
</header>

<div class="content">
  <h2>Details</h2>
  <p>Parallax, animations and more go here — build your pages however you like.</p>
</div>

<!-- Include the RSVP overlay script (same code as your rsvp_overlay.js).
     You can either copy/paste the script here, or include it as an external file:
     <script src="/rsvp_overlay.js"></script>
-->
<script>
/* rsvp_overlay.js (embed or serve from your repo) */
(function () {
  var RSVP_ORIGIN = "https://marsnbianca.github.io";
  var RSVP_URL = RSVP_ORIGIN + "/rsvp/";

  var host = document.createElement("div");
  host.id = "rsvpHostOverlay";
  host.style.position = "fixed";
  host.style.inset = "0";
  host.style.zIndex = "999999";
  host.style.background = "transparent";
  host.style.display = "none";
  host.style.pointerEvents = "none";
  document.body.appendChild(host);

  var iframe = null;
  var lastFocus = null;

  function lockScroll(lock) {
    if (lock) {
      document.documentElement.style.overflow = "hidden";
      document.body.style.overflow = "hidden";
      document.body.style.touchAction = "none";
    } else {
      document.documentElement.style.overflow = "";
      document.body.style.overflow = "";
      document.body.style.touchAction = "";
    }
  }

  function openRSVP(e) {
    if (e) {
      e.preventDefault();
      e.stopPropagation();
    }

    lastFocus = document.activeElement;

    host.innerHTML = "";
    host.style.display = "block";
    host.style.pointerEvents = "auto";
    host.style.background = "transparent";

    iframe = document.createElement("iframe");
    iframe.src = RSVP_URL + "?t=" + Date.now();
    iframe.style.position = "absolute";
    iframe.style.inset = "0";
    iframe.style.width = "100%";
    iframe.style.height = "100%";
    iframe.style.border = "0";
    iframe.style.background = "transparent";
    iframe.setAttribute("allowtransparency", "true");
    iframe.setAttribute("title", "RSVP");

    host.appendChild(iframe);
    lockScroll(true);
  }

  function closeRSVP() {
    host.innerHTML = "";
    host.style.display = "none";
    host.style.pointerEvents = "none";
    host.style.background = "transparent";
    lockScroll(false);

    try { if (lastFocus && lastFocus.focus) lastFocus.focus(); } catch (_) {}
    lastFocus = null;
    iframe = null;
  }

  document.addEventListener("click", function (e) {
    var t = e.target;

    var img = t.closest && t.closest('img[alt="openRSVP"], img[aria-label="openRSVP"], img[title="openRSVP"]');
    if (img) {
      openRSVP(e);
      return;
    }

    var el = t.closest && t.closest("a, button, div, span");
    if (el) {
      var txt = (el.innerText || el.textContent || "").trim().toLowerCase();
      if (txt === "rsvp") {
        openRSVP(e);
        return;
      }
    }
  }, true);

  window.addEventListener("message", function (e) {
    if (!e) return;
    if (e.origin !== RSVP_ORIGIN) return;
    if (e.data === "RSVP:CLOSE") closeRSVP();
  });

  window.addEventListener("keydown", function (e) {
    if (e && e.key === "Escape" && host.style.display === "block") closeRSVP();
  });
})();
</script>

</body>
</html>