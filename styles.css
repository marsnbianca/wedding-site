:root{
  --max-width: 980px;
  --space: 1.25rem;

  /* panel height variable */
  --panel-height: 100vh;   /* desktop default */
  --sky-span-multiplier: 3.05; /* how many panels the sky-bg conceptually covers */
}

/* responsive overrides */
@media (max-width: 900px) {
  :root { --panel-height: 80vh; --sky-span-multiplier: 3.02; }
}
@media (max-width: 480px) {
  :root { --panel-height: 60vh; --sky-span-multiplier: 3.0; }
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
body {
  margin: 0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  color: #04293a;
  background: #071428;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow-x: hidden;
}

/* SKY BACKGROUND: single appearance, animates scale via JS.
   No repeat; background covers and is centered. Transform-origin top center so it scales downward as requested.
*/
.sky-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: calc(var(--panel-height) * var(--sky-span-multiplier)); /* cover first ~3 panels */
  background-image: url("assets/parallax/sky1.png");
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center top;
  transform-origin: center top;
  will-change: transform;
  z-index: 0;
  pointer-events: none;
}

/* Parallax sections sizing uses variable and caps max height */
.parallax-section{
  position: relative;
  width: 100%;
  height: var(--panel-height);
  min-height: 35vh;
  max-height: calc(var(--panel-height) * 1.25);
  overflow: visible;
  display: flex;
  align-items: center;
  justify-content: center;
  isolation: isolate;
}

/* PART background colors:
   - Parts 1 & 2 have subtle ombre to blend with the sky.
   - Parts 3+ are transparent (no background colors) as requested.
*/
.panel-1 { background: linear-gradient(180deg, rgba(230,249,255,0.8), rgba(191,233,255,0.5)); }
.panel-2 { background: linear-gradient(180deg, rgba(216,242,255,0.6), rgba(169,221,255,0.45)); }

/* parts 3 and onward: remove backgrounds — make transparent so content sits on top of scaled sky */
.panel-3,
.panel-4,
.panel-5,
.panel-6 {
  background: transparent;
}

/* Parallax layers (clouds & decorative) — JS sets exact position & size */
.parallax-layer{
  position: absolute;
  top: 0;
  left: 0;
  transform: translate3d(0,0,0);
  background-repeat: no-repeat;
  background-position: center center;
  background-size: contain;
  will-change: transform;
  backface-visibility: hidden;
  z-index: 1;
  pointer-events: none;
}
.cloud-layer { opacity: 0.98; mix-blend-mode: normal; }
.parallax-layer--overlay { mix-blend-mode: overlay; opacity: 0.28; z-index: 3; }

/* content styling */
.container { max-width: var(--max-width); margin: 0 auto; padding: calc(var(--space) + 4vw); }
.section-content { position: relative; z-index: 10; text-align: center; color: #04293a; padding: 2rem; display:flex; flex-direction:column; align-items:center; gap:1rem; }
.section-content h1 { margin:0; font-size: clamp(1.6rem, 4.5vw, 3.25rem); }
.section-content .lead { margin:0; color:#064a6f; }

/* image buttons */
.image-button { display:inline-block; margin:.5rem auto; cursor:pointer; border:0; background:transparent; width:auto; height: clamp(3.5rem, 8vh, 5rem); object-fit:contain; }

/* responsive tweaks */
@media (max-width: 900px) {
  .parallax-section { min-height: 32vh; max-height: calc(var(--panel-height) * 1.15); }
  .sky-bg { height: calc(var(--panel-height) * var(--sky-span-multiplier)); } /* re-evaluated by CSS var */
}
@media (max-width: 480px) {
  .parallax-section { min-height: 28vh; max-height: calc(var(--panel-height) * 1.1); }
  .sky-bg { height: calc(var(--panel-height) * var(--sky-span-multiplier)); }
}

/* reduced motion fallback */
@media (prefers-reduced-motion: reduce) {
  .parallax-layer, .sky-bg { transition: none !important; transform: none !important; }
}
